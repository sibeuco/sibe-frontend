<header class="header px-3">
  <nav class="navbar container d-flex justify-content-between align-items-center">
    <a class="navbar-brand d-flex align-items-center gap-2" routerLink="/home">
      <img src="assets/images/logo_sibe.png" alt="Logo SIBE" height="40" />
    </a>

    <ng-container *ngIf="isLogged$ | async as isLogged">
      <div class="d-flex gap-3 align-items-center">
        <a *ngIf="isLogged" class="header-text me-5" routerLink="/home">Home</a>
        
        <!-- Bot칩n de usuario con dropdown -->
        <div class="dropdown" *ngIf="isLogged">
          <button 
            class="btn btn-outline-light dropdown-toggle user-button" 
            type="button" 
            (click)="toggleDropdown()"
            [attr.aria-expanded]="mostrarDropdown">
            <i class="bi bi-person-circle me-2"></i>
            <span *ngIf="userSession$ | async as userSession">{{ userSession.correo }}</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" [class.show]="mostrarDropdown" *ngIf="mostrarDropdown">
            <li>
              <button class="dropdown-item" (click)="abrirModalCambiarContrasena(); cerrarDropdown()">
                Cambiar Contrase침a
              </button>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <button class="dropdown-item text-danger" (click)="logout(); cerrarDropdown()">
                Cerrar Sesi칩n
              </button>
            </li>
          </ul>
        </div>
      </div>
    </ng-container>

  </nav>
</header>

<!-- Modal de cambio de contrase침a -->
<app-change-password (contrasenaActualizada)="onContrasenaActualizada($event)"></app-change-password>